<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Pelea de Seguidores</title>
  <meta name="viewport" content="width=1360, initial-scale=1" />
  <style>
    body {
      background: #1a1a1a;
      margin: 0;
      font-family: 'Segoe UI', Arial, sans-serif;
      color: #fff;
      overflow: hidden;
    }
    #main-menu, #game-screen, #preview-screen {
      position: absolute;
      top: 0; left: 0; width: 100vw; height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2;
      background: #1a1a1a;
      transition: opacity 0.4s;
    }
    #main-menu { flex-direction: column; }
    #game-screen { display: none; flex-direction: column; z-index: 1; }
    #preview-screen { display: none; flex-direction: column; z-index: 3; }
    #game {
      border-radius: 22px;
      box-shadow: 0 0 60px #000A;
      background: #191919;
      margin-top: 32px;
      display: block;
    }
    #player-list {
      margin-top: 24px;
      background: #222;
      padding: 14px 16px 18px 16px;
      border-radius: 14px;
      max-width: 420px;
      box-shadow: 0 0 16px #0007;
      min-height: 40px;
    }
    .player-row {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-bottom: 8px;
      background: #1a1a1a;
      border-radius: 8px;
      padding: 4px 10px;
    }
    .player-row img {
      width: 28px; height: 28px;
      border-radius: 50%;
      object-fit: cover;
      background: #444;
      border: 2px solid #fff;
    }
    .player-row input[type="number"] {
      font-size: 17px;
      width: 48px;
      border-radius: 6px;
      border: 1px solid #FFD700;
      background: #333;
      color: #FFD700;
      padding: 2px 6px;
      margin-left: 6px;
    }
    .player-row button {
      background: #F55;
      color: #fff;
      border: none;
      padding: 3px 10px;
      border-radius: 6px;
      font-size: 18px;
      cursor: pointer;
    }
    #left-info {
      position: absolute;
      left: 22px;
      top: 22px;
      font-size: 21px;
      font-weight: bold;
      color: #FFD700;
      z-index: 5;
      pointer-events: none;
      text-shadow: 2px 2px 8px #000A;
    }
    #leaderboard {
      position: absolute;
      right: 27px;
      top: 30px;
      background: #222;
      color: #fff;
      border-radius: 14px;
      padding: 12px 18px;
      box-shadow: 0 0 12px #0007;
      min-width: 160px;
      font-size: 21px;
      display: none;
      z-index: 4;
    }
    #preview-canvas {
      margin: 0 auto;
      border-radius: 32px;
      box-shadow: 0 0 80px #000B;
      background: #232323;
      display: block;
    }
    #preview-label {
      margin-bottom: 32px;
      font-size: 34px;
      color: #FFD700;
      font-weight: bold;
      text-align: center;
      text-shadow: 2px 2px 16px #000A;
    }
    .menu-title {
      font-size: 44px;
      color: #FFD700;
      font-weight: bold;
      text-shadow: 2px 2px 20px #000A;
      margin-bottom: 18px;
    }
    .menu-btn {
      margin-top: 24px;
      background: #FFD700;
      color: #222;
      font-weight: bold;
      font-size: 24px;
      border-radius: 8px;
      border: none;
      padding: 12px 36px;
      box-shadow: 0 2px 16px #0005;
      cursor: pointer;
      transition: background 0.2s;
    }
    .menu-btn:hover {
      background: #ffc200;
    }
    #config-box {
      background: #252525;
      border-radius: 18px;
      padding: 22px 22px 18px 22px;
      max-width: 440px;
      margin: 0 auto;
      box-shadow: 0 0 20px #0007;
    }
    #status-sync {
      display: inline-block;
      background: #333;
      color: #FFD700;
      font-weight: bold;
      border-radius: 7px;
      padding: 3px 14px;
      margin-left: 8px;
      font-size: 17px;
      margin-bottom: 7px;
    }
    #botsCount, #speedInput {
      font-size: 19px;
      width: 58px;
      margin-left: 8px;
      margin-right: 8px;
      border-radius: 6px;
      border: 1px solid #FFD700;
      background: #333;
      color: #FFD700;
      padding: 3px 8px;
    }
    #botImageFile {
      background: #333;
      color: #fff;
      border-radius: 6px;
      border: 1px solid #FFD700;
      margin-left: 8px;
      font-size: 15px;
      padding: 3px 5px;
    }
    #setBotImgBtn {
      background: #FFD700;
      color: #222;
      font-weight: bold;
      border-radius: 7px;
      border: none;
      font-size: 16px;
      padding: 5px 18px;
      margin-left: 8px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div id="main-menu">
    <div>
      <div class="menu-title">Pelea de Seguidores</div>
      <div id="config-box">
        <button class="menu-btn" onclick="syncPlayers()">Sincronizar avatares de GitHub</button>
        <span id="status-sync"></span>
        <br><br>
        <label for="botsCount" style="font-size:19px;color:#FFD700;">Bots:</label>
        <input id="botsCount" type="number" min="0" max="99" value="0" />
        <label for="speedInput" style="font-size:19px;color:#FFD700;">Velocidad:</label>
        <input id="speedInput" type="number" min="0.05" max="1.0" step="0.01" value="0.36" />
        <br><br>
        <label for="botImageFile" style="font-size:19px;color:#FFD700;">Imagen bots:</label>
        <input type="file" id="botImageFile" accept="image/*" />
        <button id="setBotImgBtn" onclick="setBotImage()">Cargar</button>
        <br><br>
        <div id="player-list"></div>
      </div>
      <button class="menu-btn" onclick="showPreview()">Â¡Iniciar pelea!</button>
    </div>
  </div>
  <div id="game-screen">
    <canvas id="game" width="1360" height="800"></canvas>
    <div id="left-info"></div>
    <div id="leaderboard"></div>
    <button style="position:absolute;top:32px;right:32px;background:#FFD700;color:#222;font-size:22px;font-weight:bold;border:none;border-radius:8px;padding:10px 24px;box-shadow:0 2px 10px #0005;z-index:10;cursor:pointer;" onclick="showMenu()">Configurar</button>
  </div>
  <div id="preview-screen">
    <div>
      <div id="preview-label"></div>
      <canvas id="preview-canvas" width="1280" height="720"></canvas>
    </div>
  </div>
  <script src="game.js"></script>
</body>
</html>
