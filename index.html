<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Pelea Extrema Web</title>
  <style>
    body { margin:0; background:#111; font-family:sans-serif; }
    #main-menu, #game-screen { width:100vw; height:100vh; position:absolute; top:0; left:0; }
    #main-menu { display:flex; flex-direction:row; justify-content:center; align-items:center; background:#222; z-index:2; }
    #config-panel { background:#181818; color:#fff; border-radius:18px; padding:32px 28px; min-width:380px; box-shadow:0 0 40px #0008; }
    #config-panel h2 { margin-top:0; color:#FFD700;}
    #player-list { max-height:400px; overflow-y:auto; margin-bottom:18px; }
    .player-row { display:flex; align-items:center; margin-bottom:8px; }
    .player-row img { width:38px; height:38px; border-radius:50%; border:2px solid #fff; object-fit:cover;}
    .player-row input[type="number"] { width:45px; margin-left:8px;}
    .player-row button { margin-left:8px;}
    #bots-bar { margin-bottom:12px; }
    #sync-bar { margin-bottom:14px; }
    #canvas-panel { flex:1; display:flex; flex-direction:column; align-items:center; justify-content:center; }
    #game-screen { display:none; background:#111; z-index:1;}
    #left-info { position:absolute; top:18px; left:18px; color:#FFD700; font-size:22px; background:rgba(0,0,0,0.68); padding:8px 20px; border-radius:14px;}
    #btn-back { position:absolute; top:16px; right:36px; background:#FFD700; color:#222; font-size:18px; border:none; border-radius:8px; padding:8px 18px; cursor:pointer; box-shadow:0 2px 8px #0005;}
    #leaderboard { position:absolute; top:80px; right:30px; background:rgba(0,0,0,0.6); color:#FFD700; border-radius:12px; padding:18px 22px; font-size:18px; min-width:340px; font-family: 'Segoe UI', Arial, sans-serif; z-index:20; }
    #leaderboard h3 { margin:0 0 10px 0; color:#FFD700; font-size:22px;}
    #leaderboard ul { list-style:none; margin:0; padding:0; }
    #leaderboard li { color:#fff; margin-bottom:4px;}
    #speed-bar { margin-bottom:10px; }
    #status-sync { color:#FFD700; margin-left:10px;}
    #preview-screen { position:absolute; top:0; left:0; width:100vw; height:100vh; background:#222e; z-index:3; display:none; justify-content:center; align-items:center;}
    #preview-canvas { background:#181818; border-radius:24px; box-shadow:0 0 40px #000a;}
    #preview-label { color:#FFD700; font-size:28px; text-align:center; margin-bottom:12px;}
  </style>
</head>
<body>
  <!-- Pantalla de configuración -->
  <div id="main-menu">
    <div id="config-panel">
      <h2>Configuración de la pelea</h2>
      <div id="sync-bar">
        <button onclick="syncPlayers()">Sincronizar jugadores de Sheets</button>
        <span id="status-sync"></span>
      </div>
      <div id="bots-bar">
        <label>Bots: <input type="number" id="botsCount" value="0" min="0" max="100"></label>
        <input type="file" id="botImageFile" accept="image/*">
        <button onclick="setBotImage()">Cargar imagen de bots</button>
      </div>
      <div id="speed-bar">
        <label>Velocidad: <input type="number" id="speedInput" value="1.2" min="0.2" max="8" step="0.1"></label>
      </div>
      <div id="player-list"></div>
      <button style="font-size:20px; background:#FFD700; color:#222; border:none; border-radius:10px; margin-top:14px; padding:13px 26px; cursor:pointer;" onclick="showPreview()">Jugar</button>
    </div>
    <div id="canvas-panel" style="display:none">
      <!-- Aquí podría ir la preview del juego si deseas -->
    </div>
  </div>
  <!-- Preview de todos los jugadores antes de empezar -->
  <div id="preview-screen">
    <div>
      <div id="preview-label">Preparando la pelea...</div>
      <canvas id="preview-canvas" width="1280" height="720"></canvas>
    </div>
  </div>
  <!-- Pantalla de juego -->
  <div id="game-screen">
    <button id="btn-back" onclick="showMenu()">Configurar</button>
    <div id="left-info"></div>
    <div id="leaderboard" style="display:none"></div>
    <canvas id="game" width="1280" height="720"></canvas>
  </div>
  <script src="game.js"></script>
</body>
</html>
